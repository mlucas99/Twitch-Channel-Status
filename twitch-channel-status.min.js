!function(){function t(t){if("string"==typeof t&&t)for(var e=0,r=s.length;r>e;e++)if(s[e].src===t)return s[e]}function e(){for(var t,e=0,r=s.length;r>e;e++)if(!s[e].src){if(t)return void 0;t=s[e]}return t}function r(){var t=0;return"undefined"!=typeof a&&a&&"number"==typeof a.skipStackDepth&&(t=a.skipStackDepth),t}function n(t,e){var a,i,c,o="number"==typeof e;return e=o?e:r(),"string"==typeof t&&t&&(o?i=t.match(/((?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/):(i=t.match(/^(?:|[^:@]*@|.+\)@(?=blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),i&&i[1]||(i=t.match(/\)@((?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),i&&i[1]&&(a=i[1]))),i&&i[1]&&(e>0?(c=t.slice(t.indexOf(i[0])+i[0].length),a=n(c,e-1)):a=i[1])),a}function a(){if(0!==s.length){if(1===s.length)return s[0];if("readyState"in s[0])for(var r=s.length;r--;)if("interactive"===s[r].readyState)return s[r];if("loading"===document.readyState)return s[s.length-1];var a,l=new Error;if(i&&(a=l.stack),!a&&c)try{throw l}catch(h){a=h.stack}if(a){var f=n(a),u=t(f);return u||f!==o||(u=e()),u}}}var i=!1,c=!1;!function(){try{var t=new Error;throw i="string"==typeof t.stack&&!!t.stack,t}catch(e){c="string"==typeof e.stack&&!!e.stack}}();var o=window.location.href,s=document.getElementsByTagName("script");a.skipStackDepth=1;var l=!("currentScript"in document),h=document.__defineGetter__,f="function"==typeof Object.defineProperty&&function(){var t;try{Object.defineProperty(document,"_xyz",{value:"blah",enumerable:!0,writable:!1,configurable:!1}),t="blah"===document._xyz,delete document._xyz}catch(e){t=!1}return t}();document._currentScript=a,l&&(f?Object.defineProperty(document,"currentScript",{get:a,enumerable:!0,configurable:!1}):h&&document.__defineGetter__("currentScript",a))}(),function(t,e){var r=e.attr("data-attribute")||"data-twitch-channel",n=e.attr("data-clientid")||"data-twitch-clientid",a=parseInt(e.attr("data-interval"))||!1,i=e.attr("data-online-element"),c=e.attr("data-online-image")||'data:image/svg+xml,<?xml version="1.0"?><svg height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="10" r="8" fill="green"/></svg>',o=e.attr("data-offline-image")||'data:image/svg+xml,<?xml version="1.0"?><svg height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="10" r="8" fill="red"/></svg>',s=30;$("#"+i).hide(),t.refreshTwitchChannelStatuses=function(){var e,l={};return $("img["+r+"]").each(function(){var t=$(this),a=t.attr(r).toLowerCase();l[a]=l[a]||[],l[a].push(t),e=t.attr(n),t.attr("src")||t.attr("src",t.attr("data-offline-image")||o)}),Object.keys(l).length?void $.ajax({url:"https://api.twitch.tv/kraken/streams",headers:{"Client-ID":"q2vn4frriiclwfmmapji0egudk44m67"},data:{channel:Object.keys(l).join(","),limit:Object.keys(l).length,client_id:e},cache:!1,dataType:"jsonp"}).done(function(e){e.streams.length<e._total&&console.warn("refreshTwitchChannelStatuses couldn't load all online channels! Please reduce the number of channels you are trying to check.");for(var r={},n=0;n<e.streams.length;n++)r[e.streams[n].channel.name]=!0;for(var h in l)if(l.hasOwnProperty(h)){var f=r[h],u=f?c:o,d=l[h];f?$("#"+i).show():$("#"+i).hide();for(var n=0;n<d.length;n++){var m=d[n],g=m.attr("data-"+(f?"online":"offline")+"-image")||u;m.attr("src",g)}}a&&setTimeout(t.refreshTwitchChannelStatuses,1e3*Math.max(a,s))}).fail(function(){setTimeout(t.refreshTwitchChannelStatuses,5e3)}):void(a&&setTimeout(t.refreshTwitchChannelStatuses,1e3*Math.max(a,s)))},$(t.refreshTwitchChannelStatuses)}(document,$(document.currentScript));